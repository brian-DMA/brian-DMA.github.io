{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { first } from 'rxjs/operators';\nvar EmailStatus = /*#__PURE__*/(() => {\n  (function (EmailStatus) {\n    EmailStatus[EmailStatus[\"Verifying\"] = 0] = \"Verifying\";\n    EmailStatus[EmailStatus[\"Failed\"] = 1] = \"Failed\";\n  })(EmailStatus || (EmailStatus = {}));\n  return EmailStatus;\n})();\nlet VerifyEmailComponent = class VerifyEmailComponent {\n  constructor(route, router, accountService, alertService) {\n    this.route = route;\n    this.router = router;\n    this.accountService = accountService;\n    this.alertService = alertService;\n    this.EmailStatus = EmailStatus;\n    this.emailStatus = EmailStatus.Verifying;\n  }\n  ngOnInit() {\n    const token = this.route.snapshot.queryParams['token'];\n    // remove token from url to prevent http referer leakage\n    this.router.navigate([], {\n      relativeTo: this.route,\n      replaceUrl: true\n    });\n    this.accountService.verifyEmail(token).pipe(first()).subscribe({\n      next: () => {\n        this.alertService.success('Verification successful, you can now login', {\n          keepAfterRouteChange: true\n        });\n        this.router.navigate(['../login'], {\n          relativeTo: this.route\n        });\n      },\n      error: () => {\n        this.emailStatus = EmailStatus.Failed;\n      }\n    });\n  }\n};\nVerifyEmailComponent = __decorate([Component({\n  templateUrl: 'verify-email.component.html'\n})], VerifyEmailComponent);\nexport { VerifyEmailComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}